"use strict";(self.webpackChunksubstratus_website=self.webpackChunksubstratus_website||[]).push([[34],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>g});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),u=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},d=function(e){var t=u(e.components);return n.createElement(l.Provider,{value:t},e.children)},c="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,s=e.originalType,l=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),c=u(a),m=r,g=c["".concat(l,".").concat(m)]||c[m]||p[m]||s;return a?n.createElement(g,o(o({ref:t},d),{},{components:a})):n.createElement(g,o({ref:t},d))}));function g(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var s=a.length,o=new Array(s);o[0]=m;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i[c]="string"==typeof e?e:r,o[1]=i;for(var u=2;u<s;u++)o[u]=a[u];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},3521:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>s,metadata:()=>i,toc:()=>u});var n=a(7462),r=(a(7294),a(3905));const s={sidebar_position:3},o="Loading Datasets",i={unversionedId:"walkthrough/loading-datasets",id:"walkthrough/loading-datasets",title:"Loading Datasets",description:"Datasets can be used by Model resources to finetune an existing model",source:"@site/docs/walkthrough/loading-datasets.md",sourceDirName:"walkthrough",slug:"/walkthrough/loading-datasets",permalink:"/docs/walkthrough/loading-datasets",draft:!1,editUrl:"https://github.com/substratusai/substratusai.github.io/tree/main/docs/walkthrough/loading-datasets.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Serving Models",permalink:"/docs/walkthrough/serving-models"},next:{title:"Finetuning Models",permalink:"/docs/walkthrough/finetuning-models"}},l={},u=[{value:"Dataset format",id:"dataset-format",level:2},{value:"Using a Dataset loader",id:"using-a-dataset-loader",level:2},{value:"Creating your own Dataset loader",id:"creating-your-own-dataset-loader",level:2}],d={toc:u},c="wrapper";function p(e){let{components:t,...a}=e;return(0,r.kt)(c,(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"loading-datasets"},"Loading Datasets"),(0,r.kt)("p",null,"Datasets can be used by Model resources to finetune an existing model\nwith your own data. You can load your own datasets by using one of the\nexisting dataset loaders published by Substratus or by creating your\nown dataset loader container image."),(0,r.kt)("h2",{id:"dataset-format"},"Dataset format"),(0,r.kt)("p",null,'Substratus currently expects all datasets to use jsonl file format.\nEach json line should have 2 attributes: "prompt" and "completion".\nThis follows the same standard that is used by OpenAI for finetuning.'),(0,r.kt)("h2",{id:"using-a-dataset-loader"},"Using a Dataset loader"),(0,r.kt)("p",null,"For this walkthrough, a K8s instruction dataset will be used. The dataset\ncontains prompts and completions. Example entry in the dataset:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'prompt: Write YAML that defines a Pod named \\"dnsutils\\" in the \\"default\\" namespace\ncompletion: <K8s valid YAML file that defines K8s resources>\n')),(0,r.kt)("p",null,"The goal here is to train a model that is able to generate valid K8s YAML files based on the prompt given."),(0,r.kt)("p",null,"The dataset loader used is available here: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/substratusai/dataset-k8s-instructions"},"https://github.com/substratusai/dataset-k8s-instructions")),(0,r.kt)("p",null,"Create the Dataset resource to load the dataset into Substratus:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"kubectl apply -f https://raw.githubusercontent.com/substratusai/substratus/main/examples/datasets/k8s-instructions.yaml\n")),(0,r.kt)("p",null,"Verify the dataset became ready by running:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"kubectl describe dataset k8s-instructions\n")),(0,r.kt)("h2",{id:"creating-your-own-dataset-loader"},"Creating your own Dataset loader"),(0,r.kt)("p",null,"TODO"))}p.isMDXComponent=!0}}]);