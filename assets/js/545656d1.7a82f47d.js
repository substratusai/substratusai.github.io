"use strict";(self.webpackChunksubstratus_website=self.webpackChunksubstratus_website||[]).push([[847],{5840:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>r,contentTitle:()=>a,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var t=n(5893),s=n(1151);const i={sidebar_position:5},a="Intro to Notebooks",l={id:"guides/intro-to-notebooks",title:"Intro to Notebooks",description:"Substratus notebooks allow you to access high-performance GPUs while developing machine learning code. In this guide you will explore how to launch a containerized notebook from your local machine.",source:"@site/docs/guides/intro-to-notebooks.md",sourceDirName:"guides",slug:"/guides/intro-to-notebooks",permalink:"/docs/guides/intro-to-notebooks",draft:!1,unlisted:!1,editUrl:"https://github.com/substratusai/substratusai.github.io/tree/main/docs/guides/intro-to-notebooks.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Finetuning Models",permalink:"/docs/guides/finetuning-models"},next:{title:"Installation",permalink:"/docs/installation/"}},r={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Clone the Example Notebook",id:"clone-the-example-notebook",level:2},{value:"Launch a Remote Notebook",id:"launch-a-remote-notebook",level:2},{value:"Cleanup",id:"cleanup",level:2}];function u(e){const o={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,s.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.h1,{id:"intro-to-notebooks",children:"Intro to Notebooks"}),"\n",(0,t.jsx)(o.p,{children:"Substratus notebooks allow you to access high-performance GPUs while developing machine learning code. In this guide you will explore how to launch a containerized notebook from your local machine."}),"\n",(0,t.jsx)(o.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsxs)(o.p,{children:["This guide assumes you already have a Substratus cluster ",(0,t.jsx)(o.a,{href:"../installation",children:"installed"}),"."]}),"\n",(0,t.jsx)(o.p,{children:"Also make sure to install up-to-date Substratus kubectl plugins:"}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-bash",children:"wget -O - https://raw.githubusercontent.com/substratusai/substratus/main/install/kubectl-plugins.sh | bash\n"})}),"\n",(0,t.jsx)(o.h2,{id:"clone-the-example-notebook",children:"Clone the Example Notebook"}),"\n",(0,t.jsx)(o.p,{children:"Clone the example notebook repo."}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-bash",children:"git clone https://github.com/substratusai/example-minimal-notebook\ncd example-minimal-notebook\n"})}),"\n",(0,t.jsxs)(o.p,{children:["By convention in Substratus source code is stored in ",(0,t.jsx)(o.code,{children:"src/"}),". A Dockerfile is used to describe the environment the notebook will run in. When launching a notebook, Substratus will look for a ",(0,t.jsx)(o.code,{children:"notebook.yaml"})," file. This file can be used to configure things like the compute resources allocated to the notebook."]}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-bash",children:"ls\n"})}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-bash",children:"#  Dockerfile    README.md     notebook.yaml src\n"})}),"\n",(0,t.jsx)(o.h2,{id:"launch-a-remote-notebook",children:"Launch a Remote Notebook"}),"\n",(0,t.jsxs)(o.p,{children:["With the following command Substratus will upload, build, and serve your notebook. The ",(0,t.jsx)(o.code,{children:"-d"})," flag instructs the command to launch from the current directory. Once launched, try making a change to a file in the notebook and saving it."]}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-bash",children:"kubectl notebook -d .\n"})}),"\n",(0,t.jsx)(o.p,{children:"Substratus continuously syncs any changes you made in your remote notebook back to your local directory."}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-bash",children:"git status --short\n"})}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-bash",children:"#   M src/hello.ipynb\n"})}),"\n",(0,t.jsxs)(o.p,{children:["Once you are done, press ",(0,t.jsx)(o.code,{children:"Ctrl-C"})," to terminate the notebook session. This will suspend the remote notebook (you will see the browser session end)."]}),"\n",(0,t.jsx)(o.h2,{id:"cleanup",children:"Cleanup"}),"\n",(0,t.jsx)(o.p,{children:"Your remote notebook will continue to exist in the cluster in a suspended state (not consuming any compute resources). You can completely remove the Notebook object if you are done with it."}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-bash",children:"kubectl delete -f ./notebook.yaml\n"})}),"\n",(0,t.jsx)(o.admonition,{type:"note",children:(0,t.jsxs)(o.p,{children:["Notebooks will eventually support scratch space (see ",(0,t.jsx)(o.a,{href:"https://github.com/substratusai/substratus/issues/5",children:"GitHub issue #66"}),"). Deleting the notebook will free the attached disks once this is supported."]})})]})}function d(e={}){const{wrapper:o}={...(0,s.a)(),...e.components};return o?(0,t.jsx)(o,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},1151:(e,o,n)=>{n.d(o,{Z:()=>l,a:()=>a});var t=n(7294);const s={},i=t.createContext(s);function a(e){const o=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function l(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(i.Provider,{value:o},e.children)}}}]);