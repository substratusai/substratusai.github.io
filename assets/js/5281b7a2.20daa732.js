"use strict";(self.webpackChunksubstratus_website=self.webpackChunksubstratus_website||[]).push([[5927],{3905:(e,t,r)=>{r.d(t,{Zo:()=>l,kt:()=>b});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var c=n.createContext({}),u=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},l=function(e){var t=u(e.components);return n.createElement(c.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,s=e.originalType,c=e.parentName,l=i(e,["components","mdxType","originalType","parentName"]),p=u(r),m=a,b=p["".concat(c,".").concat(m)]||p[m]||d[m]||s;return r?n.createElement(b,o(o({ref:t},l),{},{components:r})):n.createElement(b,o({ref:t},l))}));function b(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var s=r.length,o=new Array(s);o[0]=m;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i[p]="string"==typeof e?e:a,o[1]=i;for(var u=2;u<s;u++)o[u]=r[u];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},1527:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>s,metadata:()=>i,toc:()=>u});var n=r(7462),a=(r(7294),r(3905));const s={sidebar_position:5},o="Architecture",i={unversionedId:"architecture",id:"architecture",title:"Architecture",description:"Substratus is architected as an extension of the Kubernetes control plane. Substratus orchestrates Machine Learning workloads (data loader jobs, model training jobs, inference servers) using the Operator Pattern. The Substratus operator is a standalone system that can be installed into existing Kubernetes clusters.",source:"@site/docs/architecture.md",sourceDirName:".",slug:"/architecture",permalink:"/docs/architecture",draft:!1,editUrl:"https://github.com/substratusai/substratusai.github.io/tree/main/docs/architecture.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Installation",permalink:"/docs/installation"},next:{title:"Components",permalink:"/docs/category/components"}},c={},u=[{value:"Networking",id:"networking",level:3},{value:"Storage",id:"storage",level:3},{value:"Access Control",id:"access-control",level:3},{value:"Requirements for Advanced Features",id:"requirements-for-advanced-features",level:2}],l={toc:u},p="wrapper";function d(e){let{components:t,...r}=e;return(0,a.kt)(p,(0,n.Z)({},l,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"architecture"},"Architecture"),(0,a.kt)("p",null,"Substratus is architected as an extension of the Kubernetes control plane. Substratus orchestrates Machine Learning workloads (data loader jobs, model training jobs, inference servers) using the ",(0,a.kt)("a",{parentName:"p",href:"https://kubernetes.io/docs/concepts/extend-kubernetes/operator/"},"Operator Pattern"),". The Substratus operator is a standalone system that can be installed into existing Kubernetes clusters."),(0,a.kt)("img",{src:"/img/diagrams/architecture.excalidraw.png"}),(0,a.kt)("h3",{id:"networking"},"Networking"),(0,a.kt)("p",null,"Substratus only requires that users have access to the Kubernetes API server."),(0,a.kt)("p",null,"Substratus relies on built-in Kubernetes port-forwarding (simplified via a Substratus kubectl plugin) to serve Jupyter Notebooks. This means that administrators do not need to manage application TLS certificates, networking ingress paths, or application-specific firewall rules."),(0,a.kt)("h3",{id:"storage"},"Storage"),(0,a.kt)("p",null,"Substratus depends on a single cloud bucket for storage (S3 on AWS or GCS on GCP)."),(0,a.kt)("h3",{id:"access-control"},"Access Control"),(0,a.kt)("p",null,"Substratus resources are Kubernetes resources. This means that multi-tenancy is supported out of the box via Kubernetes ",(0,a.kt)("a",{parentName:"p",href:"https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/"},"Namespaces")," and granular access rules can be defined using standard Kubernetes ",(0,a.kt)("a",{parentName:"p",href:"https://kubernetes.io/docs/reference/access-authn-authz/rbac/"},"Roles and RoleBindings"),"."),(0,a.kt)("h2",{id:"requirements-for-advanced-features"},"Requirements for Advanced Features"),(0,a.kt)("p",null,"While not required, Substratus can provide a more advanced set features when the following access is granted to the Substratus system:"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Write Access to Container Registry:")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Unlocks deployments directly from Git (removing the need for external CI/CD pipelines).")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"In Conjunction with Signed URL Access on Buckets:")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Unlocks client-triggered directory uploads for remote building and deployment."),(0,a.kt)("li",{parentName:"ul"},"Unlocks the on-demand launching of remote containerized notebooks from local directories.")),(0,a.kt)("p",null,"For more info on signed URLs see the ",(0,a.kt)("a",{parentName:"p",href:"https://cloud.google.com/storage/docs/access-control/signed-urls"},"GCS")," or ",(0,a.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/AmazonS3/latest/userguide/PresignedUrlUploadObject.html"},"S3")," docs."),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"If your company does not permit signed URLs give ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/substratusai/substratus/issues/195"},"GitHub Issue #195")," an upvote to have a workaround developed.")))}d.isMDXComponent=!0}}]);